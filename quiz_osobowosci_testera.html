<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Quiz o osobowości testera</title>
  <style>
    /* Podstawowe style – dostosuj według potrzeb */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background: #f9f9f9;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: #fff;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .hidden {
      display: none;
    }
    .question {
      margin-bottom: 20px;
    }
    /* Pogrubienie i powiększenie czcionki pytań */
    .question p {
      font-weight: bold;
      font-size: 1.2em;
      margin-bottom: 10px;
    }
    /* Powiększona czcionka w odpowiedziach */
    .options label {
      display: block;
      margin-bottom: 10px;
      cursor: pointer;
      font-size: 1.2em;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      margin: 10px 0;
      cursor: pointer;
    }
    /* Ekran powitalny */
    #start-screen {
      text-align: center;
    }
    /* Nagłówek powitalny – wyśrodkowany */
    #start-screen h1 {
      text-align: center;
      margin-bottom: 20px;
    }
    /* Powitalny tekst – większa czcionka, podział na dwa akapity z większym odstępem */
    .welcome-text {
      font-size: 1.5em;
      text-align: justify;
      text-align-last: center;
      margin-bottom: 40px;
    }
    /* Dodatkowy odstęp między akapitami powitalnymi */
    .welcome-text + .welcome-text {
      margin-top: 30px;
    }
    /* Dodatkowy margines nad obrazkiem */
    #start-screen img {
      margin-top: 20px;
      max-width: 100%;
      height: auto;
    }
    /* Centerowanie przycisku */
    .centered {
      text-align: center;
    }
    /* Licznik odwiedzin – umieszczony na dole z dużym odstępem */
    #visit-counter {
      margin-top: 50px;
      font-size: 1.2em;
      color: #555;
    }
    /* Stylizacja ekranu wyniku */
    #result-screen h2 {
      margin-top: 0;
      text-align: center;
    }
    #result-description h3 {
      text-align: center;
      font-size: 2.5em;
      margin-bottom: 20px;
    }
    /* Styl opisu osobowości – większa czcionka, elegancka czcionka i zwiększona interlinia */
    #result-description p {
      font-size: 1.3em;
      line-height: 1.8;
      font-family: 'Georgia', serif;
      margin: 20px 0;
      text-align: justify;
    }
    /* Wyśrodkowanie obrazków w opisie osobowości */
    #result-description img {
      display: block;
      margin: 0 auto 20px;
      max-width: 100%;
      height: auto;
    }
    /* Stylizacja menu innych typów osobowości */
    #other-personalities-screen {
      text-align: center;
    }
    #other-personalities-screen h2 {
      margin-bottom: 20px;
    }
    #other-personalities-screen button {
      display: block;
      width: 80%;
      margin: 10px auto;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Ekran powitalny -->
    <div id="start-screen">
      <h1>Witam w quizie o osobowości testera oprogramowania</h1>
      <p class="welcome-text">
        Quiz ma charakter humorystyczny i ma dostarczyć dużo radości, a śmiech to zdrowie – obniża poziom stresu oraz rozluźnia napięte mięśnie.
      </p>
      <p class="welcome-text">
        Z tym pozytywnym przesłaniem zapraszam do udziału w quizie - <br>Jakub Rudnicki.
      </p>
      <img class="responsive-img"
           src="https://raw.githubusercontent.com/jayjaykuba/Jakub_Rudnicki/main/GitHub_Pages/Quiz_osobowosci_testera/powitalny.jpg"
           alt="Powitalna grafika quizu">
      <div class="centered">
        <button onclick="startQuiz()">Rozpocznij quiz</button>
      </div>
      <!-- Licznik odwiedzin strony -->
      <div id="visit-counter">
        Licznik odwiedzin strony: <span id="counter">0</span>
      </div>
    </div>

    <!-- Ekran quizu -->
    <div id="quiz-screen" class="hidden">
      <form id="quiz-form">
        <!-- Kontener na główne pytania -->
        <div id="main-questions">
          <!-- Przykładowe pytanie 1 – wstaw tutaj pytania od q1 do q21 -->
          <div class="question">
            <p>1. Jak reagujesz, gdy znajdziesz błąd w aplikacji?</p>
            <div class="options">
              <label><input type="radio" name="q1" value="A"> A) Zgłaszam najważniejsze błędy, te drobniejsze, jeśli programiści są nie w sosie, odkładam na później lub udaję, że ich nie zauważyłem. Po co niepotrzebnie zagęstniać atmosferę?</label>
              <label><input type="radio" name="q1" value="B"> B) Piszę skrypt, który sam znajdzie i zgłosi podobne błędy w przyszłości.</label>
              <label><input type="radio" name="q1" value="C"> C) Tworzę pięciostronicowy raport, załączam screeny, nagranie, zapis logów i propozycję poprawki.</label>
              <label><input type="radio" name="q1" value="D"> D) Dla większości zauważonych błędów zakładam, że to feature, a nie bug. Zgłaszam głównie tylko te błędy, z którymi będzie jak najmniej roboty.</label>
            </div>
          </div>
          <!-- Pytania 2-21 w analogicznej strukturze -->
          <!-- ... -->
        </div>

        <!-- Kontener na pytanie dodatkowe (tie-breaker) – opcje generowane dynamicznie -->
        <div id="tiebreaker-question" class="hidden">
          <p>Pytanie dodatkowe: Jakie jest Twoje motto życiowe (w kontekście testowania)?</p>
          <div class="options" id="tiebreaker-options"></div>
          <!-- Przycisk zatwierdzający pytanie dodatkowe zostanie dodany dynamicznie -->
        </div>

        <!-- Przycisk do zakończenia quizu (główne pytania) -->
        <div style="text-align:center;">
          <button type="button" id="quiz-submit-btn" onclick="submitQuiz()">Zakończ quiz</button>
        </div>
      </form>
    </div>

    <!-- Ekran wyniku -->
    <div id="result-screen" class="hidden">
      <h2>Twój wynik:</h2>
      <div id="result-description">
        <!-- Dynamicznie wstawiany opis wyniku -->
      </div>
      <div style="text-align:center;">
        <button type="button" onclick="showOtherPersonalities()">Pokaż inne typy osobowości</button>
        <button type="button" onclick="restartQuiz()">Zagraj ponownie</button>
      </div>
    </div>

    <!-- Menu innych typów osobowości -->
    <div id="other-personalities-screen" class="hidden">
      <h2>Wybierz inny typ osobowości</h2>
      <button type="button" onclick="showResult('A')">Ninja</button>
      <button type="button" onclick="showResult('B')">Automatyk</button>
      <button type="button" onclick="showResult('C')">Detalista</button>
      <button type="button" onclick="showResult('D')">Minimalista</button>
      <div style="text-align:center;">
        <button type="button" onclick="backToResult()">Powrót do wyniku</button>
      </div>
    </div>
  </div>

  <script>
    // Globalna zmienna przechowująca wynik quizu
    let quizResult = null;

    // Mapowanie opcji tie-breaker
    const tieOptionsMapping = {
      "A": "Ciszej jedziesz, dalej zajdziesz.",
      "B": "Automatyzuj albo giń.",
      "C": "Perfekcja jest celem, a detale są kluczem.",
      "D": "Mniej znaczy więcej."
    };

    // Opisy osobowości – dłuższe teksty
    const personalityDescriptions = {
      "A": {
        title: "Tester ninja",
        image: "https://raw.githubusercontent.com/jayjaykuba/Jakub_Rudnicki/main/GitHub_Pages/Quiz_osobowosci_testera/ninja.jpg",
        text: `Ta tajemincza postać wierzy, że najlepsze testy to te, o których nikt nie wie, że się odbyły.
Lubisz działać w ciszy i bez rozgłosu niczym ninja. Najchętniej byś robił swoją robotę niezauważony i nie niepokojony przez ludzi.
Jeśli pracujesz w siedzibie firmy poruszasz się bezszelestnie po korytarzach, trzymając się cienia, wspomagając się amuletem cichych kroków, swoją obecność zaznaczając tylko raportami o wysłanych błędach.
Podczas wszelkich spotkań w pracy starasz się nie wychylać i maksymalnie zlać się z otoczeniem, aby nie zwracać na siebie uwagi.
Pomaga Ci w tym opanowana do perfekcji technika zaklętej mgły testowej, umożliwiająca ukrycie się przed wzrokiem ciekawskich na wszystkich spotkaniach.`
      },
      "B": {
        title: "Tester automatyk",
        image: "https://raw.githubusercontent.com/jayjaykuba/Jakub_Rudnicki/main/GitHub_Pages/Quiz_osobowosci_testera/automatyk.jpg",
        text: `Technologiczny władca tworzenia skryptów. Jedno jest pewne – jesteś wielkim fanem automatyzacji i to nie tylko testów!
Wychodzisz z założenia, że z dostępnych technologii trzeba maksymalnie korzystać, czyli: jakie procesy można automatyzować, to automatyzujesz!
Twoje miejsce pracy charakteryzuje się obecnością minimum 3 monitorów oraz naszpikowane jest wymyślną elektroniką.
Największe koszmary (porównywalne do zderzenia z kometą) jakie sobie możesz wyobrazić to wypełnienie czegoś ręcznie oraz brak Internetu.
Twoje marzenia to napisanie skryptu, który będzie pisał jeszcze lepsze skrypty oraz stworzenie pipeline, który będzie naprawiał inne pipeline’y.
Umiejętność specjalna nieodzowna w pracy każdego automatyka to Multi-Bot Master, czyli kontrolowanie kilkunastu botów naraz (w tym tego najważniejszego do zamawiania pizzy).`
      },
      "C": {
        title: "Tester detalista",
        image: "https://raw.githubusercontent.com/jayjaykuba/Jakub_Rudnicki/main/GitHub_Pages/Quiz_osobowosci_testera/detalista.jpg",
        text: `Nieustraszony łowca bugów wszelakich – im bardziej skrytych i podstępnych, tym lepiej.
Używasz wszelkich metod i środków, aby dorwać każdy błąd.
W pracy przyświecają Ci dewizy: “Każdy błąd jest warty co najmniej 5 stronnicowego raportu” oraz “Nie ma błędów zbyt małych, by je odszukać i dokumentacji testowej, której nie można rozszerzyć”.
Programiści krzywią się na sam Twój widok, bo wiedzą, że Twoje pojawienie się prawie na pewno przysporzy im dodatkowej harówy.
Dokumentacja testowa to dla Ciebie niemal relikwia, która zajmuje w Twoim mieszkaniu więcej miejsca niż wszystkie ubrania razem wzięte.
Twoja specjalna umiejętność to “Eagle eye”, czyli dostrzeżnie przesunięcia nawet pojedynczego piksela na ekranie gołym okiem.
Legendy głoszą, że najdoskonalsza forma testera detalisty jest w stanie znaleźć błąd nawet w pustym pliku.`
      },
      "D": {
        title: "Tester minimalista",
        image: "https://raw.githubusercontent.com/jayjaykuba/Jakub_Rudnicki/main/GitHub_Pages/Quiz_osobowosci_testera/minimalista.jpg",
        text: `Dajesz się z siebie w pracy 100%! 45 w poniedziałek, 15 we wtorek, 20 w środę, 15 w czwartek oraz 5 w piątek.
Jesteś wielkim entuzjastą koncepcji work-life balance, czyli dużo kawusi, dużo memów stanowiących integralną część roboty.
W międzyczasie trochę chaotycznego klikania, mającego na celu znalezienie jakiegokolwiek błędu, a potem zasłużony odpoczynek dla zmęczonego pracownika.
Jesteś mistrzem minimalizmu oraz oszczędzania energii na wszystkim, nawet na myśleniu.
Z takimi zdolnościami mógłbyś zostać twarzą reklamy baterii alkalicznych.
Legendy głoszą, że tester minimalista, który osiągnął mistrzostwo w swojej dziedzinie, jest w stanie przetestować aplikację jednym kliknięciem.`
      }
    };

    // Nowa funkcja obliczająca wynik – zlicza tylko odpowiedzi z pytań (nazwy zaczynają się od "q")
    function getTopTypes() {
      const selected = document.querySelectorAll("#quiz-form input[name^='q']:checked");
      const counts = { A: 0, B: 0, C: 0, D: 0 };
      selected.forEach(input => {
        const value = input.value;
        if (counts.hasOwnProperty(value)) {
          counts[value]++;
        }
      });
      // Znajdź maksymalną liczbę punktów
      const maxScore = Math.max(counts.A, counts.B, counts.C, counts.D);
      const topTypes = [];
      for (let type in counts) {
        if (counts[type] === maxScore) {
          topTypes.push(type);
        }
      }
      return topTypes;
    }

    function startQuiz() {
      console.log("Quiz rozpoczęty");
      document.getElementById("start-screen").classList.add("hidden");
      document.getElementById("quiz-screen").classList.remove("hidden");
    }

    function submitQuiz() {
      // Pobierz wynik na podstawie odpowiedzi w pytaniach (bez tie-breakera)
      let topTypes = getTopTypes();

      if (topTypes.length > 1) {
        // Jeśli jest remis – pokaż pytanie dodatkowe (tie-breaker)
        document.getElementById("main-questions").classList.add("hidden");
        document.getElementById("tiebreaker-question").classList.remove("hidden");
        document.getElementById("quiz-submit-btn").style.display = 'none';

        const tieContainer = document.getElementById("tiebreaker-options");
        tieContainer.innerHTML = "";
        topTypes.forEach(function(type) {
          let label = document.createElement("label");
          label.innerHTML = `<input type="radio" name="tiebreaker" value="${type}"> ${tieOptionsMapping[type]}`;
          tieContainer.appendChild(label);
        });

        if (!document.getElementById("tiebreaker-submit")) {
          let btn = document.createElement("button");
          btn.textContent = "Zatwierdź";
          btn.id = "tiebreaker-submit";
          btn.type = "button";
          btn.onclick = function() {
            const tieRadios = document.getElementsByName("tiebreaker");
            let tieAnswer = null;
            for (let radio of tieRadios) {
              if (radio.checked) {
                tieAnswer = radio.value;
                break;
              }
            }
            if (!tieAnswer) {
              alert("Proszę odpowiedzieć na pytanie dodatkowe.");
              return;
            }
            let finalType = topTypes.includes(tieAnswer) ? tieAnswer : topTypes[0];
            showResult(finalType);
          };
          document.getElementById("tiebreaker-question").appendChild(btn);
        }
      } else {
        showResult(topTypes[0]);
      }
    }

    function showResult(result) {
      // Przy pierwszym wywołaniu (wynik quizu) zapisujemy wynik w quizResult
      if (quizResult === null) {
        quizResult = result;
      }
      document.getElementById("quiz-screen").classList.add("hidden");
      document.getElementById("other-personalities-screen").classList.add("hidden");
      document.getElementById("result-screen").classList.remove("hidden");

      const desc = personalityDescriptions[result];
      let html = `<h3>${desc.title}</h3>`;
      html += `<img src="${desc.image}" alt="${desc.title}">`;
      html += `<p>${desc.text}</p>`;
      document.getElementById("result-description").innerHTML = html;
    }

    function showOtherPersonalities() {
      document.getElementById("result-screen").classList.add("hidden");
      document.getElementById("other-personalities-screen").classList.remove("hidden");
    }

    // Funkcja backToResult przywraca wynik quizu zapisany w quizResult,
    // niezależnie od tego, jaki wynik został wyświetlony w menu innych typów.
    function backToResult() {
      document.getElementById("other-personalities-screen").classList.add("hidden");
      showResult(quizResult);
    }

    function restartQuiz() {
      window.location.reload();
    }

    // Prosty licznik odwiedzin wykorzystujący localStorage
    (function updateCounter() {
      let count = localStorage.getItem("visitCount");
      if (count) {
        count = Number(count) + 1;
      } else {
        count = 1;
      }
      localStorage.setItem("visitCount", count);
      document.getElementById("counter").textContent = count;
    })();
  </script>
</body>
</html>
